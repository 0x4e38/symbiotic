--- include/clang/Driver/CC1Options.td	2018-04-07 13:18:26.461842352 +0200
+++ include/clang/Driver/CC1Options.td	2018-04-07 13:21:21.280586347 +0200
@@ -170,6 +170,8 @@
 def disable_lifetimemarkers : Flag<["-"], "disable-lifetime-markers">,
   HelpText<"Disable lifetime-markers emission even when optimizations are "
            "enabled">;
+def force_lifetimemarkers : Flag<["-"], "force-lifetime-markers">,
+  HelpText<"Force lifetime-markers emission unconditionally">;
 def disable_red_zone : Flag<["-"], "disable-red-zone">,
   HelpText<"Do not emit code that uses the red zone.">;
 def dwarf_column_info : Flag<["-"], "dwarf-column-info">,
Only in clang/include/clang/Driver: tags
--- include/clang/Frontend/CodeGenOptions.def	2018-04-07 13:19:17.589072461 +0200
+++ include/clang/Frontend/CodeGenOptions.def	2018-04-07 13:15:50.835043374 +0200
@@ -53,6 +53,7 @@
                                      ///< the pristine IR generated by the
                                      ///< frontend.
 CODEGENOPT(DisableLifetimeMarkers, 1, 0) ///< Don't emit any lifetime markers
+CODEGENOPT(ForceLifetimeMarkers, 1, 0) ///< Always emit lifetime markers (overrides DisableLifetimeMarkers)
 CODEGENOPT(ExperimentalNewPassManager, 1, 0) ///< Enables the new, experimental
                                              ///< pass manager.
 CODEGENOPT(DisableRedZone    , 1, 0) ///< Set when -mno-red-zone is enabled.
--- lib/CodeGen/CodeGenFunction.cpp	2018-04-07 13:18:26.502842541 +0200
+++ lib/CodeGen/CodeGenFunction.cpp	2018-04-07 13:21:59.874737310 +0200
@@ -42,6 +42,10 @@
 /// markers.
 static bool shouldEmitLifetimeMarkers(const CodeGenOptions &CGOpts,
                                       const LangOptions &LangOpts) {
+  // ForceLifetimeMarkers overrides DisableLifetimeMarkers
+  if (CGOpts.ForceLifetimeMarkers)
+    return true;
+
   if (CGOpts.DisableLifetimeMarkers)
     return false;
 
--- lib/Frontend/CompilerInvocation.cpp	2018-04-07 13:18:26.494842504 +0200
+++ lib/Frontend/CompilerInvocation.cpp	2018-04-07 13:22:25.351835066 +0200
@@ -521,6 +521,7 @@
 
   Opts.DisableLLVMPasses = Args.hasArg(OPT_disable_llvm_passes);
   Opts.DisableLifetimeMarkers = Args.hasArg(OPT_disable_lifetimemarkers);
+  Opts.ForceLifetimeMarkers = Args.hasArg(OPT_force_lifetimemarkers);
   Opts.DisableRedZone = Args.hasArg(OPT_disable_red_zone);
   Opts.ForbidGuardVariables = Args.hasArg(OPT_fforbid_guard_variables);
   Opts.UseRegisterSizedBitfieldAccess = Args.hasArg(
